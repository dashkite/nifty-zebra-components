
row-gap(size)
  margin -size
  & > *
    margin size

:host

  --local-closed-folder-icon\
    var(--closed-folder-icon, embedurl("closed-folder.svg", "utf8"))

  --local-opened-folder-icon\
    var(--opened-folder-icon, embedurl("opened-folder.svg", "utf8"))

  --local-file-icon\
    var(--file-icon, embedurl("file.svg", "utf8"))

  display flex
  row-gap 1rem
  border 1px solid var(--soft-background)
  background-color var(--soft-background)

  // adapted from: https://codepen.io/rstrangh/pen/dGweRo

  .navigator
    display flex
    flex-direction column
    justify-content space-between
    flex 1
    max-width 24rem
    font-size 1rem
    line-height 1.5rem
    background-color var(--background)

    .directory

      padding-left 1rem

      ul
        list-style-type none
        margin 0
        padding 0

        li
          margin 0
          padding 0
          margin-bottom 0.5rem
          border-radius 0.25rem

          & > span::before
            content var(--local-file-icon)
            display inline-block
            height 1.25rem
            width 1.25rem
            margin-right 0.5rem

          &:focus
            background var(--dark-background)
            outline none
            color white
            :before
              filter brightness(0) invert(1)

          ul
            margin-left 1.25rem

          & > vellum-drawer
            [slot $= "-label"]
              display inline-flex
              align-items center
              &:before
                display inline-block
                height 1.25rem
                width 1.25rem
                margin-right 0.5rem

            [slot = "closed-label"]
              &:before
                content var(--local-closed-folder-icon)
            [slot = "opened-label"]
              &:before
                content var(--local-opened-folder-icon)

    .actions
      vellum-drawer
        [slot $= "-label" ]
          display flex
          justify-content center
          align-items center
          border 1px solid var(--dark-background)
          border-radius 0.25rem
          color var(--button-text)
          background transparent
          margin 0.5rem
          padding 1rem
          font-size 0.9rem
          line-height 1rem
          & > svg
            fill currentColor
            width 1.5rem
            height 1.5rem
            margin-right 1rem

        [slot = "content"]
          padding-left 1rem
          & > ul
            list-style-type none
            padding 0
            margin 0

            & > li
              padding 0.5rem
              margin 0
              border-radius 0.25rem

              & > button
                display flex
                align-items center
                color var(--button-text)
                background transparent
                border none
                margin-left 0.5rem
                margin-top -0.5rem
                padding 0.25rem
                font-size 0.9rem
                line-height 1rem

                & > svg
                  fill currentColor
                  width 1.5rem
                  height 1.5rem
                  margin-right 1rem

  .editor
    background-color var(--background)
    flex 3
    max-width 80ch
    font-size 1rem

@keyframes slideIn {
  0% {
    max-height: 0;
    opacity: 0;
  }

  100% {
    max-height: 999px;
    opacity: 1;
  }
}

@keyframes slideOut {
  0% {
    height: auto;
    opacity: 1;
  }

  100% {
    height: 0;
    opacity: 0;
  }
}
